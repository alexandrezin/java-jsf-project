<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title> 
			User List
		</title>
		<h:outputStylesheet library="css" name="styles.css" /> 
		<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
	</h:head>
	<h:body>
		<div id="wrapper">
			<div id="header">
				<h2>User List</h2>
			</div>
		</div>
		<br/>
		<h:form>
			<div align="center">
				<h:panelGrid columns="3">
					<p:commandButton value="Search" id="searchButton" action="#{userController.onSearchButtonAction}" update="userTable, clearButton"/>
					<p:inputText id="searchInput" autocomplete="off" label="Search" value="#{userController.searchText}"/> 
					<p:commandButton icon="pi pi-times" id="clearButton" action="#{userController.onClearButtonAction}" update="userTable, searchInput"/>
				</h:panelGrid>
				<br/>
				<p/> <p:commandButton icon="pi pi-plus" value="Add new User" action="#{userController.onAddNewUserButtonAction}" ajax="false"/>
			</div>
			<br/>
			<br/>
			<div id="container-table">
				<p:dataTable id="userTable" var="user" value="#{userController.userList}" sortBy="#{user.name}" selectionMode="single" selection="#{userController.user}" 
							 rowKey="#{user.id}" scrollable="true" scrollHeight="450" styleClass="user-table" headerClass="user-table-header" rowClasses="user-table-odd-row,user-table-even-row">
					<p:column headerText="Name" sortBy="#{user.name}" width="40%">
						#{user.name}
					</p:column>
					<p:column headerText="Email" width="60%">
						#{user.email}
					</p:column>
				</p:dataTable>
				<br/>
			</div>
			<div align="center">
				<p:commandButton value="Edit Selected" action="#{userController.loadSingleUser}" ajax="false"/>
			</div>
		</h:form>
	</h:body>
</html>
